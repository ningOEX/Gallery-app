{"version":3,"file":"my-tab-nav.js","sources":["components/home/my-tab-nav.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjovTmluZ0NoYW9XZWlQcm9qZGVjdC9HYWxsZXJ5LWFwcC9jb21wb25lbnRzL2hvbWUvbXktdGFiLW5hdi52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<scroll-view class=\"scroll-view_H\"  @scroll=\"onScroll\" @scrolltoupper=\"scrolltoupper\" enhanced :enable-flex=\"true\" :show-scrollbar=\"false\" :scroll-with-animation=\"true\" scroll-x\r\n\t\t\t:scroll-left=\"scrollLeft\">\r\n\t\t\t<view class=\"tab-content\">\r\n\t\t\t\t<view class=\"scroll-tab-nav\" :class=\"current === index ? 'active' : ''\" v-for=\"(item,index) in 15\"\r\n\t\t\t\t\t:key=\"index\" @click=\"changeTab(index)\">标签{{item}}</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"tab-more\" @click=\"more\">»</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref } from \"vue\"\r\n\t\r\n\tconst emit = defineEmits(['change'])\r\n\r\n\tconst scrollLeft = ref(0)\r\n\tconst current = ref(0)\r\n\tconst isMove = ref(false)\r\n\t\r\n\tconst scrollLeftView = ref(0)\r\n\r\n\t// 滑到左边\r\n\tconst scrolltoupper = () => {\r\n\t\tscrollLeft.value = 0\r\n\t\tisMove.value = false\r\n\t\tscrollLeftView.value = 0\r\n\t}\r\n\r\n\t// 点击标签\r\n\tconst changeTab = (index : number) => {\r\n\t\tif(index !== 0 && index % 6 === 0 || index % 7 === 0){\r\n\t\t\tisMove.value = true\r\n\t\t}\r\n\t\tif(isMove.value){\r\n\t\t\tif(index >= current.value){\r\n\t\t\t\tscrollLeft.value = scrollLeft.value + 50\r\n\t\t\t}\r\n\t\t\tif(index < current.value){\r\n\t\t\t\tscrollLeft.value = scrollLeft.value - 50\r\n\t\t\t}\r\n\t\t}\r\n\t\tcurrent.value = index\r\n\t\temit('change',`标签${index}`)\r\n\t}\r\n\t\r\n\tconst onScroll = (e:{detail:{scrollLeft: number}})=>{\r\n\t\tscrollLeftView.value = e.detail.scrollLeft\r\n\t}\r\n\r\n\t// 用户右边滚动\r\n\tconst more = () => { \r\n\t\tuni.__f__('log','at components/home/my-tab-nav.vue:55','more');\r\n\t\tisMove.value = true\r\n\t\tscrollLeft.value = scrollLeftView.value + 100\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t:root {\r\n\t\t--tab-height: 80rpx;\r\n\t\t--tab-size: 28rpx;\r\n\t\t--tab-active: #f40;\r\n\t}\r\n\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tz-index: 1;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.scroll-view_H {\r\n\t\t\tflex: 1;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow-x: hidden; \r\n\t\t\twidth: 100%;\r\n\t\t\theight: var(--tab-height);\r\n\t\t\tline-height: var(--tab-height);\r\n\t\t\tborder-bottom: 1px solid #eee;\r\n\r\n\t\t\t.tab-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 20rpx;\r\n\t\t\t\tmargin: 0 20rpx;\r\n\t\t\t\tfont-size: var(--tab-size);\r\n\r\n\t\t\t\t.scroll-tab-nav:last-child {\r\n\t\t\t\t\tmargin-right: 40rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.active {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: black;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\t\tleft: 0%;\r\n\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\twidth: 100%; /* 初始宽度为 0 */\r\n\t\t\t\t\t\theight: 1rpx;\r\n\t\t\t\t\t\tbackground-color: var(--tab-active);\r\n\t\t\t\t\t\tanimation: tabMove 0.35s linear; /* 添加动画 */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.tab-more {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: var(--tab-height);\r\n\t\t\tline-height: var(--tab-height);\r\n\t\t\ttext-align: center;\r\n\t\t\tbackdrop-filter: saturate(50%) blur(4px);\r\n\t\t\tz-index: 99;\r\n\t\t}\r\n\t}\r\n\r\n\t::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t@keyframes tabMove {\r\n\t\t0% {\r\n\t\t\ttransform:scaleX(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform:scaleX(1);\r\n\t\t}\r\n\t}\r\n</style>","import Component from 'F:/NingChaoWeiProjdect/Gallery-app/components/home/my-tab-nav.vue'\nwx.createComponent(Component)"],"names":["ref","uni"],"mappings":";;;;;;AAgBC,UAAM,OAAO;AAEP,UAAA,aAAaA,kBAAI,CAAC;AAClB,UAAA,UAAUA,kBAAI,CAAC;AACf,UAAA,SAASA,kBAAI,KAAK;AAElB,UAAA,iBAAiBA,kBAAI,CAAC;AAG5B,UAAM,gBAAgB,MAAM;AAC3B,iBAAW,QAAQ;AACnB,aAAO,QAAQ;AACf,qBAAe,QAAQ;AAAA,IAAA;AAIlB,UAAA,YAAY,CAAC,UAAmB;AACrC,UAAG,UAAU,KAAK,QAAQ,MAAM,KAAK,QAAQ,MAAM,GAAE;AACpD,eAAO,QAAQ;AAAA,MAChB;AACA,UAAG,OAAO,OAAM;AACZ,YAAA,SAAS,QAAQ,OAAM;AACd,qBAAA,QAAQ,WAAW,QAAQ;AAAA,QACvC;AACG,YAAA,QAAQ,QAAQ,OAAM;AACb,qBAAA,QAAQ,WAAW,QAAQ;AAAA,QACvC;AAAA,MACD;AACA,cAAQ,QAAQ;AACX,WAAA,UAAS,KAAK,KAAK,EAAE;AAAA,IAAA;AAGrB,UAAA,WAAW,CAAC,MAAkC;AACpC,qBAAA,QAAQ,EAAE,OAAO;AAAA,IAAA;AAIjC,UAAM,OAAO,MAAM;AACdC,oBAAAA,MAAA,MAAM,OAAM,wCAAuC,MAAM;AAC7D,aAAO,QAAQ;AACJ,iBAAA,QAAQ,eAAe,QAAQ;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;ACvD5C,GAAG,gBAAgB,SAAS;"}