{"version":3,"file":"index.js","sources":["pages/login/index.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"login-box\">\r\n\t\t\t<text class=\"title\">登录</text>\r\n\r\n\t\t\t<view class=\"input-item\">\r\n\t\t\t\t<image src=\"/static/login/icon_phone.png\" mode=\"aspectFill\" class=\"icon\"></image>\r\n\t\t\t\t<uni-easyinput type=\"number\" placeholder-style=\"font-size:30rpx;\" maxlength=\"11\" v-model=\"username\"\r\n\t\t\t\t\t:input-border=\"false\" placeholder=\"请输入手机号\"></uni-easyinput>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"input-item\">\r\n\t\t\t\t<image src=\"/static/login/icon_passwrod.png\" mode=\"aspectFill\" class=\"icon\"></image>\r\n\t\t\t\t<uni-easyinput type=\"password\" placeholder-style=\"font-size:30rpx;\" maxlength=\"18\" v-model=\"password\"\r\n\t\t\t\t\t:input-border=\"false\" placeholder=\"请输入密码\"></uni-easyinput>\r\n\t\t\t</view>\r\n\r\n\t\t\t<text class=\"forgot-password\">忘记密码？</text>\r\n\t\t\t<button class=\"login-button\" @click=\"handleLogin\">登录</button>\r\n\t\t\t<view class=\"register-link\">\r\n\t\t\t\t<text>还没有登录账号？<text @click=\"goToRegister\" class=\"register\">立即注册</text></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref } from \"vue\"\r\n\r\n\tconst username = ref('')\r\n\tconst password = ref('')\r\n\r\n\t// 登录\r\n\tconst handleLogin = async () => {\r\n\t\tif(!username.value || !password.value) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:'请输入账号密码',\r\n\t\t\t\ticon:\"none\"\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '登录中...'\r\n\t\t})\r\n\t\tconst res = await uniCloud.callFunction({\r\n\t\t\tname: 'api_login',\r\n\t\t\tdata: {\r\n\t\t\t\tusername: username.value,\r\n\t\t\t\tpassword: password.value\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (res.result.code === 200) {\r\n\t\t\tuni.__f__('log','at pages/login/index.vue:53','登录成功:', res.result.user);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:res.result.message,\r\n\t\t\t\ticon:\"none\"\r\n\t\t\t})\r\n\t\t\t// 处理成功逻辑\r\n\t\t\tuni.setStorageSync('user',res.result.user);\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl:'/pages/index/index'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t// uni.__f__('error','at pages/login/index.vue:65','登录失败:', res.result.message);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:res.result.message,\r\n\t\t\t\ticon:\"none\"\r\n\t\t\t})\r\n\t\t}\r\n\t\tuni.hideLoading()\r\n\t}\r\n\r\n\tconst goToRegister = () => {\r\n\t\tuni.redirectTo({\r\n\t\t\turl: '/pages/register/index' // 注册页面路径\r\n\t\t});\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 100vh;\r\n\t\tbackground: linear-gradient(45deg, #eff4fb, #eff4fb, #abceff);\r\n\t\tbox-sizing: border-box;\r\n\t\tz-index: 999;\r\n\r\n\t\t.login-box {\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 999;\r\n\t\t\tbackground-color: white;\r\n\t\t\tborder-radius: 20px;\r\n\t\t\tpadding: 20px;\r\n\t\t\twidth: 90%;\r\n\t\t\tmax-width: 400px;\r\n\t\t\tbox-shadow: 0 0px 6px rgba(0, 0, 0, 0.1);\r\n\t\t\tmargin: 0 20rpx;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tcolor: #ff6b81;\r\n\t\t\t}\r\n\r\n\t\t\t.input-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder: 1px solid #abceff;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\tpadding: 0 30rpx 0 18rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\r\n\t\t\t\t.icon {\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.forgot-password {\r\n\t\t\t\tcolor: rgba(0, 0, 0, 0.4);\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tpadding: 10rpx 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.login-button {\r\n\t\t\t\tbackground-color: #ff6b81;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tborder-radius: 50px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.register-link {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tz-index: -1;\r\n\t\t\t\tbottom: -84rpx;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\tbackground-color: #fbfcff;\r\n\t\t\t\tborder-bottom-left-radius: 20rpx;\r\n\t\t\t\tborder-bottom-right-radius: 20rpx;\r\n\t\t\t\tbox-shadow: 0 0px 6px rgba(0, 0, 0, 0.1);\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: rgba(0, 0, 0, 0.4);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.register {\r\n\t\t\t\t\tcolor: #ed61ff;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'F:/NingChaoWeiProjdect/Gallery-app/pages/login/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","uniCloud"],"mappings":";;;;;;;;;;AA4BO,UAAA,WAAWA,kBAAI,EAAE;AACjB,UAAA,WAAWA,kBAAI,EAAE;AAGvB,UAAM,cAAc,YAAY;AAC/B,UAAG,CAAC,SAAS,SAAS,CAAC,SAAS,OAAO;AACtCC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM;AAAA,UACN,MAAK;AAAA,QAAA,CACL;AACD;AAAA,MACD;AACAA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,MAAA,CACP;AACK,YAAA,MAAM,MAAMC,cAAA,GAAS,aAAa;AAAA,QACvC,MAAM;AAAA,QACN,MAAM;AAAA,UACL,UAAU,SAAS;AAAA,UACnB,UAAU,SAAS;AAAA,QACpB;AAAA,MAAA,CACA;AAEG,UAAA,IAAI,OAAO,SAAS,KAAK;AAC5BD,4BAAI,MAAM,OAAM,+BAA8B,SAAS,IAAI,OAAO,IAAI;AACtEA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM,IAAI,OAAO;AAAA,UACjB,MAAK;AAAA,QAAA,CACL;AAEDA,sBAAA,MAAI,eAAe,QAAO,IAAI,OAAO,IAAI;AACzCA,sBAAAA,MAAI,UAAU;AAAA,UACb,KAAI;AAAA,QAAA,CACJ;AAAA,MAAA,OAEK;AAENA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM,IAAI,OAAO;AAAA,UACjB,MAAK;AAAA,QAAA,CACL;AAAA,MACF;AACAA,oBAAA,MAAI,YAAY;AAAA,IAAA;AAGjB,UAAM,eAAe,MAAM;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA;AAAA,MAAA,CACL;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3EH,GAAG,WAAW,eAAe;"}